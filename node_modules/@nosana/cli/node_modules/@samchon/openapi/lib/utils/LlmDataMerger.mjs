var LlmDataMerger;

(function(LlmDataMerger) {
    LlmDataMerger.parameters = props => {
        const separated = props.function.separated;
        if (separated === undefined) throw new Error("Error on OpenAiDataComposer.parameters(): the function parameters are not separated.");
        return new Array(props.function.parameters.length).fill(0).map(((_, i) => {
            const llm = separated.llm.findIndex((p => p.index === i));
            const human = separated.human.findIndex((p => p.index === i));
            if (llm === -1 && human === -1) throw new Error("Error on OpenAiDataComposer.parameters(): failed to gather separated arguments, because both LLM and human sides are all empty.");
            return LlmDataMerger.value(props.llm[llm], props.human[human]);
        }));
    };
    LlmDataMerger.value = (x, y) => typeof x === "object" && typeof y === "object" && x !== null && y !== null ? combineObject(x, y) : Array.isArray(x) && Array.isArray(y) ? new Array(Math.max(x.length, y.length)).fill(0).map(((_, i) => LlmDataMerger.value(x[i], y[i]))) : y ?? x;
    const combineObject = (x, y) => {
        const output = {
            ...x
        };
        for (const [k, v] of Object.entries(y)) output[k] = LlmDataMerger.value(x[k], v);
        return output;
    };
})(LlmDataMerger || (LlmDataMerger = {}));

export { LlmDataMerger };
//# sourceMappingURL=LlmDataMerger.mjs.map
