import EventSource from 'eventsource';
export const listenToEventSource = (url, headers, onMessageCallback, onErrorCallback) => {
    const eventSource = new EventSource(url, { headers });
    eventSource.onmessage = (event) => {
        const data = JSON.parse(event.data);
        onMessageCallback(data);
    };
    eventSource.onerror = (err) => {
        if (onErrorCallback) {
            onErrorCallback(err);
        }
    };
    return eventSource;
};
export const closeEventSource = (eventSorce) => {
    eventSorce.close();
};
