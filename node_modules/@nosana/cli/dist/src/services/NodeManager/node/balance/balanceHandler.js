const MINIMUM_SOL_BALANCE = 0.005;
const SOLANA_DECIMAL = 1e9;
export class BalanceHandler {
    constructor(sdk) {
        this.sdk = sdk;
        this.balances = {
            sol: 0,
            nos: undefined,
        };
        this.address = this.sdk.solana.provider.wallet.publicKey;
    }
    async balance() {
        try {
            this.balances.sol = await this.sdk.solana.getSolBalance(this.address);
            this.balances.nos = await this.sdk.solana.getNosBalance(this.address);
            return true;
        }
        catch (error) {
            return false;
        }
    }
    check() {
        const solBalance = this.balances.sol / SOLANA_DECIMAL;
        if (solBalance < MINIMUM_SOL_BALANCE) {
            throw new Error(`SOL balance ${solBalance} should be 0.005 or higher. Send some SOL to your node address 
                  ${this.address} `);
        }
        return true;
    }
    getNosBalance() {
        return this.balances.nos;
    }
}
