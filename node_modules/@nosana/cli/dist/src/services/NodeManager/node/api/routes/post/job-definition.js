export function postJobDefinitionRoute(req, res) {
    const id = req.params.jobId;
    const jobDefinition = req.body.jobDefinition;
    if (!jobDefinition || !id) {
        return res.status(400).send('job definition parameters not provided');
    }
    if (!req.repository.getFlowState(id)) {
        return res.status(400).send('invalid job id');
    }
    if (req.repository.getFlowState(id).status !== 'waiting-for-job-defination') {
        return res.status(400).send('cannot send job defination at this time');
    }
    req.eventEmitter.emit('job-definition', { jobDefinition, id });
    res.status(200).send('Job definition received');
}
